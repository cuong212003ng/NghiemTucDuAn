extends ../../layout/default.pug

include ../../mixins/filterStatus.pug
include ../../mixins/search.pug

block main 
    h1 Danh sách sản phẩm
    .card.mb-3 
        .card-header
            h5.card-title Bộ lọc và tìm kiếm
        .card-body
            .row
                .col-6
                    +filterStatus(filterStatus)
                .col-6 
                    +search(keyword)
                            

    .card.mb-3
        .card-header
            h5.card-title Danh sách sản phẩm
        .card-body 
            .table-responsive
                table.table.table-hover.table-sm 
                    thead 
                        tr
                            th STT
                            th Hình ảnh
                            th Tên sản phẩm
                            th Giá
                            th Giảm giá
                            th Trạng thái
                            th Hành động
                    tbody
                        each item, index in products  
                            tr
                                td #{index + 1}
                                td 
                                    img.img-thumbnail(src=item.thumbnail, alt=item.title width="100px" height="auto")
                                td #{item.title}
                                td #{item.price} $
                                td #{item.discountPercentage} %
                                td
                                    if item.status == 'active'
                                        a(href="#" class="badge bg-success") Hoạt động
                                    else
                                        a(href="#" class="badge bg-danger") Không hoạt động
                                td                                
                                    button(
                                    class=`btn btn-warning btn-sm margin-right: 8px`,
                                    style="margin-right: 8px"
                                    ) Sửa        
                                    button(class=`btn btn-danger btn-sm`) Xóa


    nav(aria-label='Page navigation')
      ul.pagination
        if pagination.currentPage > 1
          li.page-item
            button(
              class="page-link"
              button-pagination=pagination.currentPage - 1
            ) Previous

        -   for (var i = 1; i <= pagination.totalPage; i++) 
            li(class=`${i == pagination.currentPage ? 'page-item active' : 'page-item'}`)
                button(
                    class="page-link"
                    button-pagination=i
                    ) #{i}
                    
        if pagination.currentPage < pagination.totalPage
          li.page-item
            button(
              class="page-link"
              button-pagination=pagination.currentPage + 1
            ) Next
        //-   a.page-link(href='#') Next
